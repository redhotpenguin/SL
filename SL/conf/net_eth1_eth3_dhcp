#-----------------------------------------------------------------------------
# Bridging (802.1d)
# For bridging support emerge net-misc/bridge-utils

# To add ports to bridge br0
bridge_br0="eth3 eth1"
# or dynamically add them when the interface comes up
#bridge_add_eth3="br0"
#bridge_add_eth1="br0"

# You need to configure the ports to null values so dhcp does not get started 
config_eth1=( "null" )
config_eth3=( "null" )
config_eth2=( "10.0.69.1/24 brd 10.0.0.255" )
config_eth3=( "10.0.0.14/24 brd 10.0.0.255" )
config_eth0=( "192.168.0.2/24 brd 192.168.0.255" )
#routes_eth2=(
#	"default via 10.0.0.1"		# IPv4 default route
#)
#routes_eth1=(
#	"default via 10.0.0.1"		# IPv4 default route
#)
#routes_eth0=(
#	"default via 10.0.0.1"		# IPv4 default route
#)

# Finally give the bridge an address - dhcp or a static IP
config_br0=( "dhcp" ) # may not work when adding ports dynamically

# If any of the ports require extra configuration - for example wireless or
# ppp devices - we need to write a depend function for the bridge so they get
# configured correctly.
# This is exactly the same as a depend() function in our init scripts
depend_br0() {
	need net.eth0 net.eth1
}

# NOTE: This creates an interface called br0 - you can give the interface
# any name you like

# Below is an example of configuring the bridge
# Consult "man brctl" for more details
brctl_br0=( "setfd 0" "sethello 0" "stp off" )
